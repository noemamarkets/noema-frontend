<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Noema Financial - Morning Market Brief</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #05050f; }
    .card { background: rgba(30,30,60,0.6); backdrop-filter: blur(12px); }
    .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
    .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .5; }
    }
    .loading { opacity: 0.5; }
  </style>
</head>
<body class="text-gray-100 min-h-screen">

  <!-- Top futures bar -->
  <div class="fixed top-0 inset-x-0 bg-black/80 backdrop-blur z-50 border-b border-gray-800">
    <div class="max-w-4xl mx-auto px-6 py-3 flex justify-between text-sm font-medium">
      <div class="flex gap-8">
        <span>S&P <b id="spx-futures" class="text-green-400">Loading...</b></span>
        <span>Nasdaq <b id="ndx-futures" class="text-green-400">Loading...</b></span>
        <span>VIX <b id="vix-quote" class="text-red-400">Loading...</b></span>
      </div>
      <div class="flex gap-6 items-center">
        <span>Bitcoin <b id="btc-quote" class="text-green-400">Loading...</b></span>
        <span class="text-gray-500 text-xs">15-min delayed</span>
      </div>
    </div>
  </div>

  <div class="pt-24 max-w-4xl mx-auto px-6 space-y-12 pb-32">

    <h1 class="text-5xl font-bold text-center">Good morning</h1>
    <p class="text-2xl text-center font-medium">
      <span>Your watchlist positions </span>
      <span id="watchlist-change" class="text-green-400">calculating...</span>
    </p>

    <!-- Your stocks -->
    <div id="watchlist-container" class="flex gap-5 overflow-x-auto snap-x pb-4">
      <!-- Stock cards will be populated here -->
    </div>

    <!-- Add stock to watchlist -->
    <div class="card rounded-2xl p-6 border border-gray-800">
      <h3 class="text-xl font-bold mb-4">Add to Watchlist</h3>
      <div class="flex gap-3">
        <input 
          type="text" 
          id="stock-input" 
          placeholder="Enter ticker (e.g., AAPL)" 
          class="bg-gray-900 border border-gray-700 rounded-lg px-4 py-2 flex-1 text-white uppercase"
          maxlength="5"
        >
        <button 
          onclick="addStock()" 
          class="bg-cyan-600 hover:bg-cyan-700 px-6 py-2 rounded-lg font-medium transition"
        >
          Add Stock
        </button>
      </div>
    </div>

    <!-- What matters today + hover tooltip -->
    <div class="card rounded-2xl p-8 border border-gray-800 relative tooltip">
      <h2 class="text-2xl font-bold mb-6">What matters today 
        <span class="text-gray-500 text-sm">(hover for info)</span>
      </h2>
      <div class="tooltiptext invisible opacity-0 transition-opacity duration-300 absolute z-10 bg-gray-900 text-sm text-gray-300 p-4 rounded-lg -top-32 left-1/2 -translate-x-1/2 w-96 text-center border border-gray-700">
        This section includes AI-generated summaries of the most important news to stocks in your watchlist and in general in the market. This will include upcoming earnings, company news, you name it.
      </div>
      <ul id="news-section" class="space-y-4 text-lg">
        <li>• NVDA Blackwell chips seeing strong demand across hyperscalers</li>
        <li>• Bitcoin approaching $100K milestone amid institutional buying</li>
        <li>• Tech sector outperforming broader market this week</li>
        <li>• Fed officials hint at measured approach to rate decisions</li>
      </ul>
    </div>

    <!-- Pulse – live X links -->
    <div class="card rounded-2xl p-8 border border-gray-800">
      <h2 class="text-2xl font-bold mb-6">Pulse (last 2 hours)</h2>
      <div id="pulse-section" class="space-y-6 text-sm">
        <!-- Tweets will be loaded from tweets.js -->
      </div>
    </div>

    <!-- You might like -->
    <div class="card rounded-2xl p-8 border border-gray-800">
      <h2 class="text-2xl font-bold mb-6">You might like</h2>
      <div id="suggested-stocks" class="grid grid-cols-3 md:grid-cols-6 gap-6 text-center">
        <!-- Suggested stocks will be populated here -->
      </div>
    </div>

  </div>

  <!-- Refresh indicator -->
  <div id="refresh-indicator" class="fixed bottom-8 left-8 text-sm text-gray-500">
    Last updated: <span id="last-update">--:--</span>
  </div>

  <script src="tweets.js"></script>
  <script src="app.js"></script>
</body>
</html>
